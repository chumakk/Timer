{"version":3,"sources":["components/NewRecord/NewRecord.module.css","Timer.module.css","components/Records/Record/Record.module.css","redux/recordsReducer.js","components/NewRecord/NewRecord.js","assets/diffTime/diffTime.js","components/Records/Record/Record.js","components/Records/Records.js","Timer.js","TimerContainer.js","redux/store.js","index.js"],"names":["module","exports","ADD_RECORD","REMOVE_RECORD","SET_RECORDS","TOGGLE_PAUSE_RECORD","UPDATE_RECORD_TIME","UPDATE_RECORD_TIME_START","initialState","records","recordsReducer","state","action","type","record","id","name","time","timeStart","paused","filter","recordId","map","togglePause","NewRecord","props","useState","inputedValue","setValue","onSubmit","currentTime","moment","addRecord","valueOf","format","className","s","inputWrapper","mainInput","value","onChange","e","target","onKeyDown","key","placeholder","submit","onClick","xmlns","viewBox","fill","width","height","d","formatTime","diffTime","timeHours","diff","timerMinutes","timeSeconds","Record","togglePauseRecord","toggle","timer","launchedRecord","recordNameWrapper","recordButtonWrapper","recordButton","removeRecord","Records","Timer","container","title","TimerContainer","this","setInterval","forEach","updateRecordTime","updateRecordTimeStart","subtract","clearInterval","React","Component","mapDispatchToProps","setRecords","connect","redusers","combineReducers","store","createStore","storage","localStore","get","localRecords","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","set","getState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8b9118e2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"NewRecord_inputWrapper__h_aIc\",\"mainInput\":\"NewRecord_mainInput__23cFx\",\"submit\":\"NewRecord_submit__w8qt9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Timer_container__1Xeso\",\"title\":\"Timer_title__1BLdO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"record\":\"Record_record__34VJB\",\"launchedRecord\":\"Record_launchedRecord__3G0gI\",\"recordNameWrapper\":\"Record_recordNameWrapper__1LR4C\",\"currentTime\":\"Record_currentTime__3tz-l\",\"recordButtonWrapper\":\"Record_recordButtonWrapper__3n0dH\",\"recordButton\":\"Record_recordButton__1AmBR\"};","const ADD_RECORD = \"ADD_RECORD\";\r\nconst REMOVE_RECORD = \"REMOVE_RECORD\";\r\nconst SET_RECORDS = \"SET_RECORDS\";\r\nconst TOGGLE_PAUSE_RECORD = \"TOGGLE_PAUSE_RECORD\";\r\nconst UPDATE_RECORD_TIME = \"UPDATE_RECORD_TIME\";\r\nconst UPDATE_RECORD_TIME_START = \"UPDATE_RECORD_TIME_START\";\r\n\r\nconst initialState = {\r\n  records: [],\r\n};\r\n\r\nconst recordsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_RECORD:\r\n      const record = {\r\n        id: action.id,\r\n        name: action.name || action.time,\r\n        time: action.time,\r\n        timeStart: action.time,\r\n        paused: false,\r\n      };\r\n      return { ...state, records: [...state.records, record] };\r\n\r\n    case REMOVE_RECORD:\r\n      return {\r\n        ...state,\r\n        records: state.records.filter(\r\n          (record) => action.recordId !== record.id\r\n        ),\r\n      };\r\n\r\n    case SET_RECORDS:\r\n      return {\r\n        ...state,\r\n        records: action.records,\r\n      };\r\n\r\n    case TOGGLE_PAUSE_RECORD:\r\n      return {\r\n        ...state,\r\n        records: state.records.map((record) => {\r\n          if (record.id === action.recordId) {\r\n            return { ...record, paused: action.togglePause };\r\n          } else {\r\n            return record;\r\n          }\r\n        }),\r\n      };\r\n\r\n    case UPDATE_RECORD_TIME:\r\n      return {\r\n        ...state,\r\n        records: state.records.map((record) => {\r\n          if (record.id === action.recordId) {\r\n            return { ...record, time: action.time };\r\n          } else {\r\n            return record;\r\n          }\r\n        }),\r\n      };\r\n\r\n    case UPDATE_RECORD_TIME_START:\r\n      return {\r\n        ...state,\r\n        records: state.records.map((record) => {\r\n          if (record.id === action.recordId) {\r\n            return { ...record, timeStart: action.time };\r\n          } else {\r\n            return record;\r\n          }\r\n        }),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addRecord = (id, name, time) => {\r\n  return {\r\n    type: ADD_RECORD,\r\n    id,\r\n    name,\r\n    time,\r\n  };\r\n};\r\n\r\nexport const removeRecord = (recordId) => {\r\n  return {\r\n    type: REMOVE_RECORD,\r\n    recordId,\r\n  };\r\n};\r\n\r\nexport const togglePauseRecord = (recordId, togglePause) => {\r\n  return {\r\n    type: TOGGLE_PAUSE_RECORD,\r\n    recordId,\r\n    togglePause,\r\n  };\r\n};\r\n\r\nexport const setRecords = (records) => {\r\n  return {\r\n    type: SET_RECORDS,\r\n    records,\r\n  };\r\n};\r\n\r\nexport const updateRecordTime = (recordId, time) => {\r\n  return {\r\n    type: UPDATE_RECORD_TIME,\r\n    recordId,\r\n    time,\r\n  };\r\n};\r\n\r\nexport const updateRecordTimeStart = (recordId, time) => {\r\n  return {\r\n    type: UPDATE_RECORD_TIME_START,\r\n    recordId,\r\n    time,\r\n  };\r\n};\r\n\r\nexport default recordsReducer;\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport s from \"./NewRecord.module.css\";\r\n\r\nconst NewRecord = (props) => {\r\n  const [inputedValue, setValue] = useState(\"\");\r\n\r\n  const onInput = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    const currentTime = moment();\r\n    props.addRecord(currentTime.valueOf(),inputedValue, currentTime.format(\"YYYY-MM-DD HH:mm:ss\"));\r\n    setValue(\"\");\r\n  };\r\n\r\n  const onEnter = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      onSubmit();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={s.inputWrapper}>\r\n      <div>\r\n        <input\r\n          className={s.mainInput}\r\n          value={inputedValue}\r\n          onChange={onInput}\r\n          onKeyDown={onEnter}\r\n          placeholder=\"Enter tracker name\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <button className={s.submit} onClick={onSubmit}>\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"#fff\"\r\n            width=\"24px\"\r\n            height=\"24px\"\r\n          >\r\n            <path d=\"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewRecord;\r\n","import moment from \"moment\";\r\n\r\nconst formatTime = (time) => {\r\n  return time > 9 ? time : \"0\" + time;\r\n};\r\n\r\nconst diffTime = (time, timeStart) => {\r\n  const timeHours = moment(time).diff(moment(timeStart), \"hours\");\r\n\r\n  const timerMinutes = moment(time).diff(moment(timeStart), \"minutes\") % 60;\r\n\r\n  const timeSeconds = moment(time).diff(moment(timeStart), \"seconds\") % 60;\r\n\r\n  return `${formatTime(timeHours)}:${formatTime(timerMinutes)}:${formatTime(\r\n    timeSeconds\r\n  )}`;\r\n};\r\n\r\nexport default diffTime;\r\n","import React from \"react\";\r\nimport s from \"./Record.module.css\";\r\nimport diffTime from \"../../../assets/diffTime/diffTime\";\r\n\r\nconst Record = (props) => {\r\n  const deleteRecord = (id) => {\r\n    props.removeRecord(id);\r\n  };\r\n\r\n  const togglePauseRecord = (id, toggle) => {\r\n    props.togglePauseRecord(id, toggle);\r\n  };\r\n\r\n  const timer = diffTime(props.record.time, props.record.timeStart);\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        !props.record.paused ? s.record + \" \" + s.launchedRecord : s.record\r\n      }\r\n    >\r\n      <div className={s.recordNameWrapper}>\r\n        <div>{props.record.name}</div>\r\n      </div>\r\n\r\n      <div className={s.currentTime}>{timer}</div>\r\n      <div className={s.recordButtonWrapper}>\r\n        {!props.record.paused ? (\r\n          <button\r\n            className={s.recordButton}\r\n            onClick={() => togglePauseRecord(props.record.id, true)}\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              height=\"30\"\r\n              viewBox=\"0 0 25 25\"\r\n              width=\"30\"\r\n            >\r\n              <path d=\"M10 16c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1s-1 .45-1 1v6c0 .55.45 1 1 1zm2-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm2-4c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1s-1 .45-1 1v6c0 .55.45 1 1 1z\" />\r\n            </svg>\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className={s.recordButton}\r\n            onClick={() => togglePauseRecord(props.record.id, false)}\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 25 25\"\r\n              fill=\"black\"\r\n              width=\"30\"\r\n              height=\"30\"\r\n            >\r\n              <path d=\"M10.8 15.9l4.67-3.5c.27-.2.27-.6 0-.8L10.8 8.1c-.33-.25-.8-.01-.8.4v7c0 .41.47.65.8.4zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\r\n            </svg>\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div className={s.recordButtonWrapper}>\r\n        <button\r\n          className={s.recordButton}\r\n          onClick={() => deleteRecord(props.record.id)}\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            height=\"30\"\r\n            fill=\"#d2697a\"\r\n            viewBox=\"0 0 25 25\"\r\n            width=\"30\"\r\n          >\r\n            <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n            <path d=\"M7 12c0 .55.45 1 1 1h8c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1zm5-10C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Record;\r\n","import React from \"react\";\r\nimport Record from \"./Record/Record\";\r\n\r\nconst Records = (props) => {\r\n  return (\r\n    <div>\r\n      {props.records.map((record) => (\r\n        <Record\r\n          key={record.id}\r\n          record={record}\r\n          removeRecord={props.removeRecord}\r\n          togglePauseRecord={props.togglePauseRecord}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Records;\r\n","import React from \"react\";\r\nimport NewRecord from \"./components/NewRecord/NewRecord\";\r\nimport Records from \"./components/Records/Records\";\r\nimport s from \"./Timer.module.css\";\r\n\r\nconst Timer = (props) => {\r\n  return (\r\n    <div className={s.container}>\r\n      <h1 className={s.title}>tracker</h1>\r\n      <NewRecord addRecord={props.addRecord} />\r\n      <Records\r\n        records={props.records}\r\n        removeRecord={props.removeRecord}\r\n        togglePauseRecord={props.togglePauseRecord}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timer;\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport {\n  addRecord,\n  removeRecord,\n  togglePauseRecord,\n  setRecords,\n  updateRecordTime,\n  updateRecordTimeStart,\n} from \"./redux/recordsReducer\";\nimport Timer from \"./Timer\";\n\nclass TimerContainer extends React.Component {\n  componentDidMount() {\n    this.timer = setInterval(() => {\n      this.props.records.forEach((record) => {\n        if (!record.paused) {\n          this.props.updateRecordTime(record.id, moment().format());\n        } else {\n          const diff = moment(record.time).diff(\n            moment(record.timeStart),\n            \"seconds\"\n          );\n          const currentTime = moment();\n\n          this.props.updateRecordTime(record.id, currentTime.format());\n          this.props.updateRecordTimeStart(\n            record.id,\n            currentTime.subtract(diff, \"seconds\").format()\n          );\n        }\n      });\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  render() {\n    return <Timer {...this.props} />;\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  records: state.records.records,\n});\n\nconst mapDispatchToProps = {\n  addRecord,\n  removeRecord,\n  togglePauseRecord,\n  setRecords,\n  updateRecordTime,\n  updateRecordTimeStart,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TimerContainer);\n","import { combineReducers, createStore } from \"redux\";\r\nimport recordsReducer from \"./recordsReducer\";\r\nimport moment from \"moment\";\r\nimport localStore from \"store\";\r\n\r\nconst redusers = combineReducers({\r\n  records: recordsReducer,\r\n});\r\n\r\nconst localRecords = () => {\r\n  const storage = localStore.get(\"records\");\r\n  if (storage?.records) {\r\n    return {\r\n      records: storage.records.map((record) => {\r\n        if (!record.paused) {\r\n          return { ...record, time: moment().format() };\r\n        } else {\r\n          const diff = moment(record.time).diff(\r\n            moment(record.timeStart),\r\n            \"seconds\"\r\n          );\r\n          const currentTime = moment();\r\n          return {\r\n            ...record,\r\n            time: currentTime.format(),\r\n            timeStart: currentTime.subtract(diff, \"seconds\").format(),\r\n          };\r\n        }\r\n      }),\r\n    };\r\n  } else {\r\n    return {\r\n      records: [],\r\n    };\r\n  }\r\n};\r\n\r\nconst store = createStore(\r\n  redusers,\r\n  { records: localRecords() },\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nstore.subscribe(() => {\r\n  localStore.set(\"records\", store.getState().records);\r\n});\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport TimerContainer from \"./TimerContainer\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <TimerContainer />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n"],"sourceRoot":""}